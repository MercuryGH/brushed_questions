# 编辑距离

给定两个字符串$s, t$，你可以对$s$或$t$进行如下三种操作：

1. 插入一个字符；
2. 替换一个字符；
3. 删除一个字符。

请给出使$s = t$的最小操作数。

## 引理

容易证明：

1. “对$s$删除一个字符”和“对$t$插入一个字符”，在对减小编辑距离的含义上等价。同理，对$s$插入也与对$t$删除等价。
2. “对$s$替换一个字符”和“对$t$替换一个字符”，在对减小编辑距离的含义上等价。

因此，我们不妨将能做的操作缩小为：

1. 对$s$插入一个字符；
2. 对$t$插入一个字符；
3. 对$s$替换一个字符。

## DP解

记$f_{i,j}$为只考虑$s_{1:i}$，$t_{1:j}$的编辑距离。考虑状态转移：

1. $f_{i,j-1}$转移到$f_{i,j}$，只需在$t_{1:j-1}$的末尾插入一个$s_i$即可。故$f_{i,j} = f_{i,j-1} + 1$。
2. $f_{i-1,j}$转移到$f_{i,j}$，只需在$s_{1:i-1}$的末尾插入一个$t_j$即可。故$f_{i,j} = f_{i-1,j} + 1$。
3. $f_{i-1,j-1}$转移到$f_{i,j}$，若
   * $s_i = t_j$，不需要做任何编辑，$f_{i,j} = f_{i-1,j-1}$；
   * $s_i \neq t_j$，只需替换$s_i$使之变为$t_j$，故$f_{i,j} = f_{i-1,j-1} + 1$。

$f_{i,j}$不能从其他状态转移而来了。故状态转移方程为：

$$
f_{i, j} = 
\begin{cases}
\min(f_{i, j -1} + 1, f_{i-1,j} + 1, f_{i-1,j-1}), & s_i = t_j, \\
\min(f_{i, j -1} + 1, f_{i-1,j} + 1, f_{i-1,j-1} + 1), & s_i \neq t_j,
\end{cases}
$$

初值条件为$f_{i,0}= i, f_{0,j}=j$。

（空间复杂度可优化为$O(\min(n,m))$）。

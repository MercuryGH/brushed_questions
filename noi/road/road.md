# 搭积木

给定正整数序列$a_n$，然后你进行若干次如下操作：

* 选定区间$[l, r]$，满足$a_l, a_{l + 1}, \dots, a_r$均不为$0$，将其中所有元素减一。

请给出使得$a_n$变为全$0$序列，进行操作次数的最小值。

## 解答

模拟，时间复杂度为$O(n \cdot \max(a_i))$，过于暴力（但也有优化空间）。


考虑使得$a_1$变为$0$，所需的最小操作次数，显然为$a_1$；

注意到，若$a_2 \leq a_1$，则$a_2$对于得到答案$a_1$没有影响；若$a_2 > a_1$，则我们在将$a_1$减少到$0$后，还需要额外进行$a_2 - a_1$次操作，才能让$a_2$也减少到$0$。

以此类推，若我们要让$a_i$减少到$0$，我们考虑$a_{i - 1}$，如果$a_{i} - a_{i - 1} > 0$，则我们在让$a_{i-1}$减少到$0$后还需额外进行$a_i - a_{i-1}$次操作；否则，不需要进行任何额外操作。

故本题的答案为

$$
\sum_{i=1}^n \max(a_i - a_{i - 1}, 0).
$$

其中$a_0 = 0$。

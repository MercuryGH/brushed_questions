# 判断字符串是否能被某个字符串集拼接而成

>  完全背包变体

设字符串$s$和字符串集$S=\{t_1,\dots,t_m\}$，若存在整数$k$和某种方案$\{i_1, i_2, \dots, i_k\}$，使得

$$
s = t_{i_{1}} + t_{i_2} + \dots + t_{i_k}
$$

则称$s$能被字符串集$S$拼接而成。对于任意给定的$s$和$S$，判断之。

## 解答

记$s$的长度为$n$。

记$f_i$表示$s$的子串$s_{0,i}$（为方便转移，定义子串区间为**左闭右开**）能被$S$拼接而成，则答案为$f_{n}$。

考虑从$f_j (j < i)$转移到$f_i$。只要有某个字符串$t \in S$，恰好等于$s_{j, i}$即可。于是状态转移方程如下：

$$
f_i = \bigvee_{j=0}^{i-1} (f_j \wedge \exist t \in S, t = s_{j, i})
$$

初始条件为$f_0=1$（空串一定能被拼接而成）。

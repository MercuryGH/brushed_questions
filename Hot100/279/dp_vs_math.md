# 完全平方数之和

给定正整数$n$，它一定可以表示成若干完全平方数的和。请给出使用的完全平方数项最少的表示方案（重复使用一个完全平方数，也会重复计数）。

## DP解

很经典的正整数DP。记$f_i$表示正整数$i$表示成若干完全平方数的和所使用的完全平方数的最小值，则

$$
f_{i} = \min_{j + k = i}(f_j + f_k).
$$

但上面这个公式根本没法递推。因此，换个思路。

考虑完全背包：

$$
f_i = \min_{j \leq i, j = k^2}(f_{i-j} + 1)
$$

将完全背包改进，枚举完全平方数：

$$
f_i = \min_{j \leq \sqrt i}(f_{i- j^2} + 1)
$$

前者的时间复杂度为$O(n^2)$，后者为$O(n \sqrt n)$。

## 四平方和定理解

由四平方和定理可知，任一正整数可以被表示成至多$4$个正整数的平方和，且包含一个更强的结论：

* 当且仅当$n \neq 4^k \cdot (8m+7)$时，$n$可以被表示成至多$3$个正整数的平方和。

因此，当$n = 4^k (8m+7)$时，直接返回$4$即可。当$n \neq 4^k \cdot (8m+7)$时，我们知道答案为$1, 2, 3$中的一个，枚举 + 排除法即可。

# 打家劫舍 I

记$f_i$为只考虑前$i$家房屋，所能达到的最大金额。考虑是否偷第$i$家房屋来得到状态转移：

* 若偷，则第$i-1$家房屋不能偷，其他都能偷。因此$f_i = f_{i-2} + a_i$。
* 若不偷，则$f_i = f_{i-1}$。

因此

$$
f_{i} = \max(f_{i-2} + a_i, f_{i - 1}).
$$

初始条件为$f_1 = a_1, f_2 = \max(a_1, a_2)$。

这个方程容易使用滚动数组优化。

# 打家劫舍 II

现在，所有的房屋围成一圈，而非排成一列。

我们用一个巧妙的变换，将它转换为 打家劫舍 I 排成一列的情况。

考虑原始问题有$n$家房屋：

* 若偷第一家，则最后一家不能偷，于是变成 打家劫舍 I 的子列$a_{1:n-1}$的问题。
* 若不偷第一家，则最后一家能偷，于是变成 打家劫舍 I 的子列$a_{2:n}$的问题。

取这两种情况的最大值即可。

# 打家劫舍 III

现在，房屋排成了一个二叉树。不能偷两个直接相连的结点。

这是树形DP的入门题。树形DP大多采用后序遍历，本题也不例外。

考虑$f_{\text{node}, j}$表示只考虑以$\text{node}$为根结点的树，在偷$\text{node}$（$j=1$）或不偷（$j=0$）的情况下，所能达到的最大金额。那么答案在$\max(f_{\text{root}, 0}, f_{\text{root}, 1})$。

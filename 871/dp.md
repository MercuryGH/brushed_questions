# 加油站

给定正数轴上的$n$个加油站，第$i$个加油站的所在位置为$d_i$（$d_i > 0$），能提供的最大油量为$w_i$。

现在，汽车从位置$0$（原点）出发，目标为位置$k$，初始油量为$w_0$。汽车每移动一单位距离，便需要消耗$1$点油量。求汽车移动到目标，所需的最小加油次数。

## DP解

首先将所有加油站按照位置从近到远排序。

我们将起点视为第$0$个加油站，但不计入加油次数。

记$f_{i,j}$为当前正要从第$i$个加油站出发，且已经加了$j$次油，所能移动到的相对原点的最长距离，则$f_{0,0} = w_0$，$i > j$的部分无意义。我们要求的答案为

$$
f_{n, j'}
$$

其中$j' = \min\{j \in [0, n] : f_{n, j} \geq k \}$。

* 如果在第$i$个加油站不加油，则$f_{i,j} = f_{i-1,j}$。转移前提是$f_{i-1,j} \geq d_i$。
* 如果在第$i$个加油站加油，则$f_{i,j} = f_{i-1,j-1} + w_i$。转移前提是$f_{i-1,j-1} \geq d_i$且$j \geq 1$。

那么$f_{i,j}$的值就应该是两者的最大值。

时间复杂度为$O(n^2)$。

## 贪心解

每驶过一个加油站，记住这个加油站有多少油。不需要立即决定要不要在这个加油站加油，如果后面有油量更多的加油站显然优先选择后面的加油。

如果当前油量不够抵达下一个加油站，必须得从之前的加油站中找一个来加油，贪心选择最大油量储备的加油站就好了。之前驶过的加油站，可以用一个**最大堆**来维护。

贪心策略能够成立，主要原因是油量是可以储备的，不够再去加，一定不劣于之前就加。

最坏情况下，进行了$n$次加油，即$n$次出堆操作，时间复杂度为$O(n \log n)$。

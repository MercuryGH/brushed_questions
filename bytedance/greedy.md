# 最大字典序

给定字符串序列$a_n$，请对该字符串序列进行排序，使得排序结果$a_n$中，$\sum_{i=1}^n a_i$的字典序最大（求和意味着字符串拼接）。

## 解答

考虑贪心。我们证明如下结论：

**定理**

若一种排序方案使得排序后的序列中，对任意两个字符串$a_i, a_j$满足$i < j$，都有$a_i + a_j \geq a_j + a_i$（大于号比较的是字典序），则这个排序方案使得从头到尾的拼接字典序最大。

这种排序方案可以用C++简单写作：

```cpp
const auto cmp = [](string a, string b)
{
    return a + b > b + a; // 或者 a + b >= b + a
};
std::sort(numStrs.begin(), numStrs.end(), cmp);
```

**证明**

如果我们证明了这种排序方案（局部最优）能够得到全局最大字典序拼接（全局最优），我们就解出了这道题。

令某种排序方案产生的全局最优解为$S$，我们的排序方案产生的解为$T = \sum_{i=1}^n a_i$。首先显然有$T \leq S$，我们证明$T \geq S$。

反证法。假设$T < S$，我们注意到$T$和$S$都是由同一组字符串拼接而成的，故我们可以通过swap的方式让$T$变得更优（更大，更接近$S$）。但swap能够让$T$变得更优，意味着存在$a_i, a_j$满足$i < j$，有$a_i + a_j < a_j + a_i$，这与我们的排序策略矛盾！故$T \geq S$，证毕。
